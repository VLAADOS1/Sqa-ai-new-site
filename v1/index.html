<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>AI Photo Mini-App</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
  :root{
    --violet-dark:#140019;
    --violet:#43135c;
    --violet-light:#5d2b7b;
    --txt:#fff;
    --radius:14px;
  }
  *{box-sizing:border-box;margin:0;padding:0;font-family:system-ui,-apple-system,'Segoe UI',Roboto,sans-serif}
  body{
    min-height:100vh;color:var(--txt);
    background:
      radial-gradient(circle at 20% 10%,rgba(255,255,255,.06) 0 8%,transparent 10%) repeat,
      radial-gradient(circle at 80% 80%,rgba(255,255,255,.04) 0 6%,transparent 8%) repeat,
      linear-gradient(145deg,var(--violet) 0%,var(--violet-dark) 100%);
    background-size:120px 120px,160px 160px,100% 100%;
    display:flex;align-items:center;justify-content:center;
    padding:3vh 3vw;
  }

  .hidden{display:none!important}

  .grid{
    display:grid;
    gap:10px;
    width:100%;
    max-width:380px;
    grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
  }

  .span-2{grid-column:span 2}

  button{
    background:var(--violet);
    border:2px solid rgba(255,255,255,.07);
    border-radius:var(--radius);
    color:var(--txt);
    font-size:18px;
    font-weight:600;
    padding:14px 12px;
    text-align:left;
    display:flex;
    align-items:center;
    gap:8px;
    cursor:pointer;
    transition:background .25s,transform .15s;
    width:100%;
  }
  button:active{transform:scale(.97)}
  button:hover{background:var(--violet-light)}
  .icon{font-size:1.4em;flex:0 0 auto}
  @media(max-width:380px){button{font-size:16px}}

  #btnHelp{justify-content:center;text-align:center}

  .info-wrap{
    max-width:380px;width:100%;
    background:rgba(0,0,0,.35);
    border:2px solid rgba(255,255,255,.1);
    border-radius:var(--radius);
    padding:16px 18px;
    line-height:1.36;
    font-size:16px;
  }
  .info-wrap h3{margin:0 0 8px;font-size:17px}
  .info-wrap p{margin:10px 0}
</style>
</head>
<body>

<section id="page-main">
  <div class="grid">
    <button id="btnPhoto"><span class="icon">üì∑</span> –°–æ–∑–¥–∞—Ç—å —Ñ–æ—Ç–æ</button>
    <button id="btnVideo"><span class="icon">üé¨</span> –°–æ–∑–¥–∞—Ç—å –≤–∏–¥–µ–æ</button>

    <button id="btnAgent"><span class="icon">üß¨</span> –°–æ–∑–¥–∞—Ç—å –∞–≥–µ–Ω—Ç–∞</button>
    <button id="btnClothes"><span class="icon">üëï</span> –°–º–µ–Ω–∏—Ç—å –æ–¥–µ–∂–¥—É</button>

    <button id="btnSwitchAgent"><span class="icon">üîÑ</span> –°–º–µ–Ω–∏—Ç—å –∞–≥–µ–Ω—Ç–∞</button>
    <button id="btnFilters"><span class="icon">üé®</span> –ù–∞—à–∏ —Ñ–∏–ª—å—Ç—Ä—ã</button>

    <button id="btnBalance"><span class="icon">üîç</span> –ú–æ–π –±–∞–ª–∞–Ω—Å</button>
    <button id="btnBuy"><span class="icon">üí∞</span> –ö—É–ø–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</button>

    <button id="btnHelp" class="span-2"><span class="icon">‚ÑπÔ∏è</span> –ü–æ–º–æ—â—å</button>
  </div>
</section>

<section id="page-filters" class="hidden">
  <div class="grid">
    <button id="back-filters" class="span-2"><span class="icon">‚¨ÖÔ∏è</span> –ù–∞–∑–∞–¥</button>

    <button data-filter="yakut_woman"><span class="icon">üë∏</span> –ñ–µ–Ω—Å–∫–∏–π —è–∫—É—Ç—Å–∫–∏–π –∫–æ—Å—Ç—é–º</button>
    <button data-filter="yakut_man"><span class="icon">üëë</span> –ú—É–∂—Å–∫–æ–π —è–∫—É—Ç—Å–∫–∏–π –∫–æ—Å—Ç—é–º</button>

    <button data-filter="vibe"><span class="icon">üí∞</span> –ú–∏–ª–ª–∏–∞—Ä–¥–µ—Ä Vibe</button>
    <button data-filter="on_beach"><span class="icon">üèñÔ∏è</span> –ù–∞ –ø–ª—è–∂–µ</button>
    <button data-filter="photoshoot"><span class="icon">üì∏</span> –§–æ—Ç–æ—Å–µ—Å—Å–∏—è</button>
    <button data-filter="portrait"><span class="icon">üñºÔ∏è</span> –ü–æ—Ä—Ç—Ä–µ—Ç</button>
    <button data-filter="children"><span class="icon">üë∂</span> –†–µ–±—ë–Ω–æ–∫</button>
    <button data-filter="nature_spirit"><span class="icon">üåø</span> –î—É—Ö –ø—Ä–∏—Ä–æ–¥—ã</button>
    <button data-filter="ufc_fighter"><span class="icon">ü•ä</span> –ë–æ–µ—Ü UFC</button>
    <button data-filter="soviet_style"><span class="icon">üñ•Ô∏è</span> –°–æ–≤–µ—Ç—Å–∫–∏–π —Å—Ç–∏–ª—å</button>
    <button data-filter="custom" class="span-2"><span class="icon">‚úçÔ∏è</span> –°–≤–æ–π –ø—Ä–æ–º–ø—Ç</button>
  </div>
</section>

<section id="page-info" class="hidden">
  <div class="grid">
    <button id="back-info" class="span-2"><span class="icon">‚¨ÖÔ∏è</span> –ù–∞–∑–∞–¥</button>
  </div>

  <div class="info-wrap">
    <h3>üß† –ù–µ–π—Ä–æ-–æ–±—Ä–∞–∑—ã ‚Äî –≤—ã–±–µ—Ä–∏ —Å—Ç–∏–ª—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏!</h3>
    <p>–ü–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–∞ –ø–æ —Ç–≤–æ–∏–º 25 —Ñ–æ—Ç–æ —Ç—ã —Å–º–æ–∂–µ—à—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è <strong>—Å —Ç–≤–æ–∏–º –ª–∏—Ü–æ–º</strong> –≤ —Ä–∞–∑–Ω—ã—Ö —Å—Ç–∏–ª—è—Ö. –í–æ—Ç —á—Ç–æ –¥–æ—Å—Ç—É–ø–Ω–æ:</p>
    <p>üëë <strong>–ú—É–∂—Å–∫–æ–π —è–∫—É—Ç—Å–∫–∏–π –∫–æ—Å—Ç—é–º</strong> ‚Äî —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ (–¥–ª—è –ø–∞—Ä–Ω–µ–π).<br>
       üë∏ <strong>–ñ–µ–Ω—Å–∫–∏–π —è–∫—É—Ç—Å–∫–∏–π –∫–æ—Å—Ç—é–º</strong> ‚Äî –∫—Ä–∞—Å–∏–≤—ã–π —ç—Ç–Ω–∏—á–µ—Å–∫–∏–π –Ω–∞—Ä—è–¥ (–¥–ª—è –¥–µ–≤—É—à–µ–∫).<br>
       üí∞ <strong>–ú–∏–ª–ª–∏–∞—Ä–¥–µ—Ä Vibe</strong> ‚Äî —Ä–æ—Å–∫–æ—à—å, —Å—Ç–∏–ª—å, —è—Ö—Ç—ã –∏ —Å—Ç–∞—Ç—É—Å.<br>
       üèñ <strong>–ù–∞ –ø–ª—è–∂–µ</strong> ‚Äî –ª–µ—Ç–Ω—è—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –∏ —Ä–µ–ª–∞–∫—Å.<br>
       üì∏ <strong>–§–æ—Ç–æ—Å–µ—Å—Å–∏—è</strong> ‚Äî —Å—Ç—É–¥–∏–π–Ω—ã–π –ø–æ—Ä—Ç—Ä–µ—Ç, –∫–∞–∫ –≤ –º–æ–¥–Ω–æ–º –∂—É—Ä–Ω–∞–ª–µ.<br>
       üñº <strong>–ü–æ—Ä—Ç—Ä–µ—Ç</strong> ‚Äî –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å.<br>
       üë∂ <strong>–†–µ–±—ë–Ω–æ–∫</strong> ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å —Ç–≤–æ–∏–º –ª–∏—Ü–æ–º –≤ –æ–±—Ä–∞–∑–µ —Ä–µ–±—ë–Ω–∫–∞.</p>
    <p><em>–ù–∞—á–Ω–∏ —Å —Å–æ–∑–¥–∞–Ω–∏—è –∞–≥–µ–Ω—Ç–∞ ‚Äî –º—ã –æ–±—É—á–∏–º –Ω–µ–π—Ä–æ—Å–µ—Ç—å, –∏ —Ç—ã —Å–º–æ–∂–µ—à—å –≤—ã–±–∏—Ä–∞—Ç—å –ª—é–±–æ–π —Å—Ç–∏–ª—å!</em></p>
  </div>
</section>

<section id="page-help" class="hidden">
  <div class="grid">
    <button id="back-help" class="span-2"><span class="icon">‚¨ÖÔ∏è</span> –ù–∞–∑–∞–¥</button>
  </div>

  <div class="info-wrap">
    <h3>üìò –ü–æ–º–æ—â—å</h3>

    <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ <strong>Saga AI</strong> ‚Äî –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–≤–æ–π –±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—ë—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ –ø–æ —Ç–≤–æ–∏–º —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Ç–∏–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑—ã —Å —Ç–≤–æ–∏–º –ª–∏—Ü–æ–º üí´</p>

    <p>üîß <strong>–ö–∞–∫ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç?</strong><br>
       1. –ó–∞–≥—Ä—É–∑—É–π <strong>25 —Ñ–æ—Ç–æ –ª–∏—Ü–∞</strong> (–∫–Ω–æ–ø–∫–∞ ¬´–°–æ–∑–¥–∞—Ç—å –∞–≥–µ–Ω—Ç–∞¬ª).<br>
       2. –ú—ã –æ–±—É—á–∏–º –Ω–µ–π—Ä–æ—Å–µ—Ç—å –Ω–∞ —Ç–≤–æ—ë–º –ª–∏—Ü–µ ‚Äî —ç—Ç–æ –∑–∞–π–º—ë—Ç –Ω–µ–º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.<br>
       3. –í—ã–±–∏—Ä–∞–π –ª—é–±–æ–π —Ñ–∏–ª—å—Ç—Ä –∏ –ø–æ–ª—É—á–∞–π —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å —Å–æ–±–æ–π.</p>

    <p>üé® <strong>–ö–∞–∫–∏–µ —Å—Ç–∏–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã?</strong><br>
       üë∏ –ñ–µ–Ω—Å–∫–∏–π —è–∫—É—Ç—Å–∫–∏–π –∫–æ—Å—Ç—é–º (–¥–ª—è –¥–µ–≤—É—à–µ–∫)<br>
       üëë –ú—É–∂—Å–∫–æ–π —è–∫—É—Ç—Å–∫–∏–π –∫–æ—Å—Ç—é–º (–¥–ª—è –ø–∞—Ä–Ω–µ–π)<br>
       üí∞ –ú–∏–ª–ª–∏–∞—Ä–¥–µ—Ä Vibe<br>
       üèñ –ù–∞ –ø–ª—è–∂–µ<br>
       üì∏ –§–æ—Ç–æ—Å–µ—Å—Å–∏—è<br>
       üñº –ü–æ—Ä—Ç—Ä–µ—Ç<br>
       üë∂ –†–µ–±—ë–Ω–æ–∫</p>

    <p>üí≥ <strong>–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–∞–ª–∞–Ω—Å?</strong><br>
       ‚Ä¢ –ö–∞–∂–¥–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è ‚Äî –º–∏–Ω—É—Å 1 –±–∞–ª–∞–Ω—Å.<br>
       ‚Ä¢ –ü–æ–ø–æ–ª–Ω–∏—Ç—å –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –≤ –º–µ–Ω—é.</p>

    <p>üì∑ <strong>–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç?</strong><br>
       ‚Ä¢ –ó–∞–≥—Ä—É–∂–∞–π —á—ë—Ç–∫–∏–µ —Ñ–æ—Ç–æ —Å –ª–∏—Ü–æ–º, –±–µ–∑ —Å–∏–ª—å–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤.</p>

    <p>‚ùì <strong>–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?</strong><br>
       –ù–∞–ø–∏—à–∏ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É: <a href="https://t.me/saga_ai" target="_blank">@saga_ai</a></p>

    <p>üß† –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –±–æ—Ç–∞: <a href="https://t.me/VLAADOS1" target="_blank">@VLAADOS1</a></p>
  </div>
</section>

<script>
if (window.Telegram && Telegram.WebApp){
  Telegram.WebApp.ready();
  Telegram.WebApp.expand();
}

const $     = s => document.querySelector(s);
const show  = el => el.classList.remove('hidden');
const hide  = el => el.classList.add('hidden');

const pageMain    = $('#page-main');
const pageFilters = $('#page-filters');
const pageInfo    = $('#page-info');
const pageHelp    = $('#page-help');

function send(action, payload = {}){
  const data = JSON.stringify({ action, ...payload });
  if (Telegram.WebApp){
    Telegram.WebApp.sendData(data);
  } else {
    console.log('DEBUG', data);
    alert('DEBUG ' + data);
  }
}

$('#btnPhoto').onclick        = () => { hide(pageMain); show(pageFilters); };
$('#btnVideo').onclick        = () => send('create_video');

$('#btnAgent').onclick        = () => send('create_agent');
$('#btnClothes').onclick      = () => window.location.href = 'main.html';
$('#btnSwitchAgent').onclick  = () => send('change_agent');

$('#btnFilters').onclick      = () => { hide(pageMain); show(pageInfo); };
$('#btnBalance').onclick      = () => send('balance');
$('#btnBuy').onclick          = () => send('buy_generations');

$('#btnHelp').onclick         = () => { hide(pageMain); show(pageHelp); };

$('#back-filters').onclick    = () => { show(pageMain); hide(pageFilters); };
$('#back-info').onclick       = () => { show(pageMain); hide(pageInfo); };
$('#back-help').onclick       = () => { show(pageMain); hide(pageHelp); };

pageFilters.querySelectorAll('button[data-filter]').forEach(btn => {
  btn.onclick = () => {
    send('generate_photo', { filter: btn.dataset.filter });
    show(pageMain); hide(pageFilters);
  };
});
</script>
</body>
</html>
